<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tic tac forehead</title>
<style>
  body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; margin: 20px; }
  #topbar { margin-bottom: 20px; }
  #duelMenu { margin-bottom: 20px; }
  #foreheadContainer { position: relative; display: inline-block; }
  #foreheadPic { display: block; max-width: 400px; border: 2px solid #333; }
  .cell {
    width: 33.33%;
    height: 33.33%;
    float: left;
    box-sizing: border-box;
    border: 1px solid rgba(0,0,0,0.2);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 48px;
    font-weight: bold;
    cursor: pointer;
    position: relative;
  }
  #board { width: 300px; height: 300px; position: absolute; top: 0; left: 0; display: flex; flex-wrap: wrap; }
</style>
</head>
<body>

<div id="topbar">
  Username: <input type="text" id="username" placeholder="Your name">
</div>

<div id="duelMenu">
  <button id="duelBtn">Duel</button>
  <select id="userList"></select>
</div>

<div id="foreheadContainer">
  <img id="foreheadPic" src="forehead.jpg" alt="forehead">
  <div id="board"></div>
</div>

<script>
  // demo online users
  let users = ['alice', 'bob', 'charlie'];
  let username = '';
  const userList = document.getElementById('userList');
  const duelBtn = document.getElementById('duelBtn');
  const usernameInput = document.getElementById('username');

  usernameInput.addEventListener('input', () => {
    username = usernameInput.value.trim();
  });

  function populateUsers() {
    userList.innerHTML = '';
    users.forEach(u => {
      if(u !== username) {
        const option = document.createElement('option');
        option.value = u;
        option.textContent = u;
        userList.appendChild(option);
      }
    });
  }

  duelBtn.addEventListener('click', () => {
    if(!username) { alert('Set a username first'); return; }
    populateUsers();
    alert('Pick a user to duel and the board will appear!');
    initBoard();
  });

  const boardDiv = document.getElementById('board');
  let board = Array(9).fill('');
  let currentPlayer = 'X';

  function initBoard() {
    boardDiv.innerHTML = '';
    board = Array(9).fill('');
    currentPlayer = 'X';
    for(let i = 0; i < 9; i++){
      const cell = document.createElement('div');
      cell.classList.add('cell');
      cell.dataset.index = i;
      cell.addEventListener('click', makeMove);
      boardDiv.appendChild(cell);
    }
  }

  function makeMove(e) {
    const idx = e.target.dataset.index;
    if(board[idx] !== '') return;
    board[idx] = currentPlayer;
    e.target.textContent = currentPlayer;
    if(checkWin()) {
      alert(currentPlayer + ' wins!');
      initBoard();
      return;
    }
    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
  }

  function checkWin() {
    const wins = [
      [0,1,2],[3,4,5],[6,7,8],
      [0,3,6],[1,4,7],[2,5,8],
      [0,4,8],[2,4,6]
    ];
    return wins.some(combo => combo.every(i => board[i] === currentPlayer));
  }
</script>

</body>
</html>
